<?xml version="1.0" encoding="utf-8" ?>
<v:NotifierPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                xmlns:v="clr-namespace:M.A.G.U.S.Assistant.Views"
                xmlns:vm="clr-namespace:M.A.G.U.S.Assistant.ViewModels"
                xmlns:conv="clr-namespace:Mtf.Maui.Controls.Converters;assembly=Mtf.Maui.Controls"
                x:Class="M.A.G.U.S.Assistant.Views.ItemDetailsPage"
                x:DataType="vm:ItemDetailsViewModel"
                x:ClassModifier="internal"
                Title="{Binding Name}">

    <v:NotifierPage.Resources>
        <ResourceDictionary>
            <conv:StringNotNullOrEmptyConverter x:Key="NotNullOrEmpty" />
        </ResourceDictionary>
    </v:NotifierPage.Resources>

    <v:NotifierPage.BindingContext>
        <vm:ItemDetailsViewModel />
    </v:NotifierPage.BindingContext>

    <ScrollView>
        <StackLayout Padding="12" Spacing="12">

            <Border Padding="8">
                <Grid RowDefinitions="Auto, *, Auto" RowSpacing="6" ColumnSpacing="12">

                    <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                        <HorizontalStackLayout>
                            <Label Text="Price" />
                            <Label Text="{Binding Money, StringFormat=': {0}'}" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout>
                            <Label Text="Weight (kg)" />
                            <Label Text="{Binding Weight, StringFormat=': {0:F3}'}" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout IsVisible="{Binding Description, Converter={StaticResource NotNullOrEmpty}}">
                            <Label Text="Description" />
                            <Label Text="{Binding Description, StringFormat=': {0}'}" LineBreakMode="WordWrap" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>

                    <Image Grid.Row="1"
                           Source="{Binding ImageSource}"
                           VerticalOptions="Center"
                           HorizontalOptions="Center" />

                    <HorizontalStackLayout HorizontalOptions="Fill" Spacing="8" Grid.Row="2">
                        <Button Text="Buy" Command="{Binding BuyCommand}" />
                    </HorizontalStackLayout>
                </Grid>
            </Border>

        </StackLayout>
    </ScrollView>
</v:NotifierPage>
